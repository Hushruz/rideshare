{% extends "layout.html" %}

{% block title %}Contact{% endblock %}

{% block head %}
{% endblock %}

{% block main %}
<div data-notify="container"></div>
<div class="panel panel-main">
    <div class="panel-heading">Additional Details</div>
    <div class="panel-body">
        <p class="lead">To finish signing up, we need a few additional details.</p>
        <form id='form'>
            <div class="form-group">
                <label>Name</label>
                <input type="text" class='form-control' placeholder='Name' name='name'>
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type='email' class='form-control' placeholder='Email' name='email'>
            </div>
            <div class="form-group">
                <label>Phone</label>
                <input type='text' class='form-control' placeholder='Phone' name='phone'>
            </div>
            <div class="form-group">
                <label>ZIP code</label>
                <input type="text" class='form-control' placeholder='ZIP' name='zip'>
            </div>
            <button type='submit' class='btn btn-default'>Update information</button>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src='/static/js/push.js'></script>
{% raw %}
<script data-notify="template" type='text/x-handlebars-template'>
    <div class="alert alert-{{type}} alert-dismissable">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
        <strong>Something went wrong.</strong> <a href='/map'>Continue to rideshare.</a>
    </div>
</script>
{% endraw %}
<script type="text/javascript">
    var form = document.querySelector('#form');

    var register_submit = new SubmitForm({
        form: form,
        model: {{user_json|safe}},
        method: 'POST',
        route: '/details',
        done: function (data) {
            document.location = '/home';
        },
        fail: function (message, status) {
            notify({
                type: 'danger'
            });
        }
    });
</script>
{% endblock %}
