{% extends "layout.html" %}

{% block title %}Circle{% endblock %}

{% block head %}
{% endblock %}

{% block main %}
<div class="panel panel-main">
    <div class="panel-heading">Circle details</div>
    <div class="panel-body">
        <ul class='information'>
            <li>
                <b>Name: </b> {{circle.name}}
            </li>
            <li>
                <b>Description:</b> {{circle.description}}
            </li>
        </ul>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <div class='comments'>
            <div class="panel panel-main">
                <div class="panel-heading">Comments</div>
                <div class="panel-body" data-comment='container'>
                    <form data-comment='form' autocomplete='off'>
                        <div class="form-group">
                            <label>Comment</label>
                            <textarea class='form-control' rows='3' name='comment'></textarea>
                        </div>
                        <button type='submit' class='btn btn-primary'>
                            Post Comment
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="panel panel-main">
            <div class="panel-heading">Members of Circle</div>
            <div class="panel-body">
                {% for member in members %}
                    <p>{{member.name}}</p>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script src="/static/augment.js" type="text/javascript"></script>
<script type="text/javascript" src='/static/comment.js'></script>
{% include 'comment.html' %}
<script type="text/javascript">
var comment = new Comment({
    type: 'circle',
    id: {{circle.key().id()}},
    container: '[data-comment="container"]'
})
</script>
{% endblock %}